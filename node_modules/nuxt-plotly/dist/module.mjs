import { defineNuxtModule, createResolver, addComponent, addPlugin } from '@nuxt/kit';

const name = "nuxt-plotly";
const version = "1.0.14";

const module = defineNuxtModule({
  defaults: () => ({
    inject: false
  }),
  meta: {
    name,
    version,
    configKey: "nuxtPlotly",
    compatibility: {
      nuxt: "^3.6.0"
    }
  },
  setup(options) {
    const resolver = createResolver(import.meta.url);
    addComponent({
      name: "NuxtPlotly",
      filePath: resolver.resolve("./runtime/components/nuxt-plotly"),
      mode: "client"
    });
    if (options.inject) {
      addPlugin({ src: resolver.resolve("./runtime/plugin"), mode: "client" });
    }
  }
});

export { module as default };
